"undefined"==typeof console&&(console={log:function(){},debug:function(){}});var kolumbus=function(a){var b,c=$(window),d=$(document),e=d.find("body"),f={},g=function(a,b,c){$.each(a.replace(/(\s)\s*/g,"$1").split(" "),function(a,d){f[d]||(f[d]=[]),f[d].push({cb:b,once:c})})};a.subscribe=function(a,b){g(a,b,!1)},a.subscribeOnce=function(a,b){g(a,b,!0)},a.publish=function(a){var b=Array.prototype.slice.call(arguments,1);$.each(a.replace(/(\s)\s*/g,"$1").split(" "),function(a,c){for(var a in f[c]){var d=f[c][a];d.cb&&d.cb.apply(this,b),d.once&&f[c].splice(a,1)}})},a.widget=function(b,e){a[b]=e(c,d)};var h=function(a,b,c,d){var f=setTimeout(function(){e.addClass("progress")},500);$.ajax({type:a,url:b,data:c,success:function(){clearTimeout(f),e.removeClass("progress"),d.apply(this,arguments)},error:function(){clearTimeout(f),e.removeClass("progress")}})};return a.get=function(a,b,c){"function"==typeof b&&(c=b,b={}),h("GET",a,b,c,!1)},a.post=function(c,d,e,f){if(f){console.log("make sslrequest");var g=function(){b.post(c,d,e)};b?g():b=a.sslbridge.consumer(f,function(){g()})}else h("POST",c,d,e,!1)},a.start=function(){a.publish("kolumbus:ready",d)},$(window).on("load",function(){a.publish("kolumbus:load",d)}),a}("undefined"==typeof kolumbus?{}:kolumbus);$(function(){kolumbus.start()}),kolumbus.widget("contentsizer",function(a){var b,c,d,e=document.body,f=document.getElementById("js_sizer_styles").sheet||document.styleSheets.js_sizer_styles,g=".page",h=".stage + .page",i=0,j="onorientationchange"in window?"orientationchange":"resize";a.on(j,function(){b=Math.max(document.documentElement.clientHeight,window.innerHeight,a.height(),300),c=["height: ",b,"px !important;\n"].join(""),d=["margin-top: ",b,"px !important;\n"].join(""),f.insertRule?(f.cssRules.length&&(f.deleteRule(1),f.deleteRule(0)),f.insertRule([g,"{",c,"}"].join(""),0),f.insertRule([h,"{",d,"}"].join(""),1)):(f.cssRules&&f.cssRules.length&&f.removeRule(),f.addRule(g,c),f.addRule(h,d)),!i&&$(e).addClass("resized")&&(i=!0)}).trigger(j)}),kolumbus.widget("videoscaler",function(a){var b=function(a){return document.getElementById(a)},c=".js_scale",d=0;Videoscaler=function(d){var e,f,g,h,i,j,k=1280/720,l="js_scale_styles",m="resize",n=function(a){return parseInt(1e4*a,10)/1e4},o=b(l).sheet||document.styleSheets[l],p=d.parent(),q=function(){e=p.width(),f=p.height(),g=e/f,k>g?(i=f*k,j=i/k):(j=e/k,i=j*k),h=["width:",n(i),"px !important;","height:",n(j),"px !important;","margin: 0 0 0 ",n((i-e)/-2),"px;\n"].join(""),o.insertRule?(o.cssRules.length&&o.deleteRule(0),o.insertRule(c+"{"+h+"}",0)):(o.cssRules&&o.cssRules.length&&o.removeRule(),o.addRule(c,h))};a.bind(m,q).trigger(m)},kolumbus.subscribe("kolumbus:ready",function(a){a.find(c).each(function(){new Videoscaler($(this))}),!d&&kolumbus.publish("imagescaler:scaled")&&(d=1)})});